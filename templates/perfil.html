{% extends 'base.html' %}
{% block head %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/perfil.css') }}">
{% endblock %}
{% block title %}
Mi perfil
{% endblock %}
{% block content %}
<main>
    <div class="container-profile">
        <div class="card-profile">
            <div class="cont-photo">
                <div class="profile-photo">
                    <img src="/usuarios/obtenerImagen/{{u.idUsuario}}" id="profileImagePreview">
                </div>
            </div>
            <div class="cont-data">
                <h3>Nombre de usuario:</h3>
                <p>@{{ u.nombreUsuario }}</p>
            </div>
            <div class="cont-data">
                <h3>Nombre y Apellido:</h3>
                <p>{{ u.nombre }}</p>
            </div>
            <div class="cont-data">
                <h3>Correo:</h3>
                <p>{{ u.email }}</p>
            </div>
            <div class="cont-data">
                <h3>Teléfono:</h3>
                <p>{{ u.telefono }}</p>
            </div>
            <div class="cont-data">
                <h3>ID de usuario:</h3>
                <p>{{ u.idUsuario }}</p>
            </div>
            <form action="/cuenta/perfil/editar/{{u.idUsuario}}" method="get" id="formEditarPerfil">
                <div class="btnSubmit">
                    <button>Editar perfil</button>
                </div>
            </form>
            <form action="{{ url_for('logout') }}" method="post" id="formLogout">
                <div class="btnLogout">
                    <button>Cerrar sesión</button>
                </div>
            </form>
        </div>
        <div class="card-profile">
            <form action="{{ url_for('mis_recetas') }}" method="get" id="formMisrecetas">
                <div class="btnSubmit">
                    <button>Mis recetas</button>
                </div>
            </form>
            <form action="{{ url_for('nueva_receta') }}" method="get" id="formNuevaReceta">
                <div class="btnSubmit">
                    <button>Subir receta</button>
                </div>
            </form>
            {% if u.is_admin() %}
            <hr class="separador">
            <h3 class="separador-title">Administración</h3>
            
            <form action="{{ url_for('admin_recetas') }}" method="get">
                <div class="btnSubmit">
                    <button class="btnSubmit">Gestionar todas las recetas</button>
                </div>
            </form>
        
            <form action="{{ url_for('admin_categorias') }}" method="get">
                <div class="btnSubmit">
                    <button class="btnSubmit">Gestionar categorías</button>
                </div>
            </form>

            <form action="{{ url_for('ver_sugerencias_admin') }}" method="get">
                <div class="btnSubmit">
                    <button class="btnSubmit">Ver sugerencias</button>
                </div>
            </form>
            {% endif %}
        </div>
    </div>
</main>
{% endblock %}